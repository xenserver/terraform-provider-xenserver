---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "xenserver_snapshot Resource - xenserver"
subcategory: ""
description: |-
  VM snapshot resource
---

# xenserver_snapshot (Resource)

VM snapshot resource

## Example Usage

```terraform
// snapshot from an exist running VM 
data "xenserver_vm" "vm_data" {
  name_label = "Test VM"
}

resource "xenserver_snapshot" "snapshot" {
  name_label  = "A test snapshot 1"
  vm_uuid     = data.xenserver_vm.vm_data.data_items[0].uuid
  with_memory = true
}

// snapshot from a new VM
data "xenserver_sr" "sr" {
  name_label = "Local storage"
}

resource "xenserver_vdi" "vdi1" {
  name_label   = "local-storage-vdi-1"
  sr_uuid      = data.xenserver_sr.sr.data_items[0].uuid
  virtual_size = 100 * 1024 * 1024 * 1024
}

resource "xenserver_vm" "vm" {
  name_label    = "A test virtual-machine"
  template_name = "Windows 11"
  hard_drive = [
    {
      vdi_uuid = xenserver_vdi.vdi1.uuid,
      bootable = true,
      mode     = "RW"
    },
  ]
}

resource "xenserver_snapshot" "snapshot" {
  name_label = "A test snapshot 2"
  vm_uuid    = xenserver_vm.vm.uuid
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name_label` (String) The name of the snapshot
- `vm_uuid` (String) Snapshot from the VM with the given UUID

### Optional

- `with_memory` (Boolean) True if snapshot with the VM's memory(VM must in running state), default to be false

### Read-Only

- `id` (String) The test id of the snapshot
- `uuid` (String) The UUID of the snapshot

## Import

Import is supported using the following syntax:

```shell
terraform import xenserver_snapshot.snapshot <xenserver_snapshot.snapshot.uuid>
```
