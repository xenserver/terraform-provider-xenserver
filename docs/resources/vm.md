---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "xenserver_vm Resource - xenserver"
subcategory: ""
description: |-
  VM resource
---

# xenserver_vm (Resource)

VM resource

## Example Usage

```terraform
data "xenserver_sr" "sr" {
  name_label = "Local storage"
}

resource "xenserver_vdi" "vdi1" {
  name_label   = "local-storage-vdi-1"
  sr_uuid      = data.xenserver_sr.sr.data_items[0].uuid
  virtual_size = 100 * 1024 * 1024 * 1024
}
resource "xenserver_vdi" "vdi2" {
  name_label   = "local-storage-vdi-2"
  sr_uuid      = data.xenserver_sr.sr.data_items[0].uuid
  virtual_size = 100 * 1024 * 1024 * 1024
}

data "xenserver_network" "network" {}

resource "xenserver_vm" "vm" {
  name_label       = "A test virtual-machine"
  template_name    = "Windows 11"
  static_mem_max   = 4 * 1024 * 1024 * 1024
  vcpus            = 4
  cores_per_socket = 2

  hard_drive = [
    {
      vdi_uuid = xenserver_vdi.vdi1.uuid,
      bootable = true,
      mode     = "RW"
    },
    {
      vdi_uuid = xenserver_vdi.vdi2.uuid,
      bootable = false,
      mode     = "RO"
    },
  ]

  network_interface = [
    {
      network_uuid = data.xenserver_network.network.data_items[0].uuid,
      device       = "0"
    },
    {
      other_config = {
        ethtool-gso = "off"
      }
      mtu          = 1600
      device       = "0"
      mac          = "11:22:33:44:55:66"
      network_uuid = data.xenserver_network.network.data_items[1].uuid,
    },
  ]

  other_config = {
    "tf_created" = "true"
  }
}

output "vm_out" {
  value = xenserver_vm.vm
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name_label` (String) The name of the virtual machine
- `network_interface` (Attributes Set) A set of network interface attributes to attach to the virtual machine (see [below for nested schema](#nestedatt--network_interface))
- `static_mem_max` (Number) Statically-set (i.e. absolute) maximum memory (bytes). This value acts as a hard limit of the amount of memory a guest can use at VM start time. New values only take effect on reboot.
- `template_name` (String) The template name of the virtual machine which cloned from
- `vcpus` (Number) The number of VCPUs for the virtual machine

### Optional

- `cores_per_socket` (Number) The number of core pre socket for the virtual machine, default inherited from the template
- `dynamic_mem_max` (Number) Dynamic maximum memory (bytes).
- `dynamic_mem_min` (Number) Dynamic minimum memory (bytes).
- `hard_drive` (Attributes Set) A set of hard drive attributes to attach to the virtual machine (see [below for nested schema](#nestedatt--hard_drive))
- `other_config` (Map of String) The other config of the virtual machine
- `static_mem_min` (Number) Statically-set (i.e. absolute) minimum memory (bytes). The least amount of memory this VM can boot with without crashing.

### Read-Only

- `id` (String) The test id of the virtual machine
- `uuid` (String) The UUID of the virtual machine

<a id="nestedatt--network_interface"></a>
### Nested Schema for `network_interface`

Required:

- `device` (String) Order in which VIF backends are created by xapi, default to be 0. if changed, the network will be recreated
- `network_uuid` (String) Network UUID to attach to VIF

Optional:

- `mac` (String) MAC address of the VIF, if not provided, XenServer will generate a random MAC address.
- `mtu` (Number) MTU in octets, default: 1500
- `other_config` (Map of String) The additional configuration, default to be {}

Read-Only:

- `vif_ref` (String)


<a id="nestedatt--hard_drive"></a>
### Nested Schema for `hard_drive`

Required:

- `vdi_uuid` (String) VDI UUID to attach to VBD, Note that using the same VDI for multiple VBDs is not supported

Optional:

- `bootable` (Boolean) Set VBD as bootable, Default: false
- `mode` (String) The mode the VBD should be mounted with, Default: RW

Read-Only:

- `vbd_ref` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import xenserver_vm.vm <xenserver_vm.vm.uuid>
```
